(this.webpackJsonpsito=this.webpackJsonpsito||[]).push([[0],{1:function(e,t){e.exports=Cesium},21:function(e,t,n){e.exports=n(56)},32:function(e,t,n){},55:function(e,t,n){},56:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),i=n(8),r=n.n(i),s=n(16),c=n(3),l=n(4),u=n(5),p=n(6),m=n(9),d=n(7),h=n(1),f=function(e){Object(p.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).state={colore:h.Color.ORANGE,props1:e,id:e.dati.id},a}return Object(l.a)(n,[{key:"componentDidMount",value:function(){if(this.props.idPrem===this.state.id&&this.state.colore===h.Color.ORANGE)return this.setState({colore:h.Color.RED}),!0}},{key:"shouldComponentUpdate",value:function(e){return e.idPrem===this.state.id&&this.state.colore===h.Color.ORANGE?(this.setState({colore:h.Color.RED}),!0):e.idPrem!==this.state.id&&this.state.colore===h.Color.RED&&(this.setState({colore:h.Color.ORANGE}),!0)}},{key:"render",value:function(){var e=this;return o.a.createElement(d.b,{color:this.state.colore,position:h.Cartesian3.fromDegrees(this.state.props1.dati.longitudine,this.state.props1.dati.latitudine,0),onClick:function(){e.state.props1.click(e.state.id)},onTouchStart:function(){return e.state.props1.click(e.state.id)}})}}]),n}(o.a.Component),b=Object(m.hot)(f),v=n(17),g=(n(32),n(18)),k=n.n(g);var E=function(e){var t=e.dati.title.replace("\ufffd","");return o.a.createElement(k.a,{duration:200},o.a.createElement("div",{className:"RSS"},o.a.createElement("a",{href:e.dati.links[0].url,target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none",color:"black"}},t)))},y=n(19),O=n.n(y),C=function(e){Object(p.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).state={loading:!0,rss:[],rssfeed:[]},a}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this;console.log("appena monato comp",this.props);var t=1;void 0!==this.props.nome&&(console.log("vivo"),t=this.props.nome.id),console.log("dopo monato comp",t),fetch("http://backend.ilbug.com/api/v1.0/rss/"+t).then((function(e){return e.json()})).then((function(t){var n=t.map((function(e){return e}));e.setState({rss:n});var a=[];e.state.rss.map((function(t){return fetch("https://cors-anywhere.herokuapp.com/"+t.url).then((function(e){return e.text()})).then((function(e){return v.parse(e)})).then((function(t){a.push(t.items.map((function(e){return e}))),e.setState({loading:!1,rssfeed:a})}))}))}))}},{key:"render",value:function(){console.log(this.props);var e=null,t=null;void 0!==this.props.nome&&(e=this.props.nome.nome,t=this.props.nome.url);var n=this.state.rssfeed.map((function(e){return e.map((function(e,t){return o.a.createElement(E,{key:t,dati:e})}))})),a=[];return n.map((function(e){return e.map((function(e,t){return a.push(e)}))})),o.a.createElement("div",{className:"rettangolo"},o.a.createElement("a",{href:t,target:"_blank",rel:"noopener noreferrer",id:"h1s"},e),this.state.loading?o.a.createElement("div",{style:{margin:"auto"}}," ",o.a.createElement(O.a,{type:"TailSpin",color:"#2BAD60",height:50,width:50})," "):a)}}]),n}(o.a.Component),j=Object(m.hot)(C);n(55);var N=function(e){return o.a.createElement("div",{className:"divFonti"},o.a.createElement("ul",null,o.a.createElement("li",{className:"dropdown"},o.a.createElement("label",{className:"dropbtn"},"Fonte dati"),o.a.createElement("div",{className:"dropdown-content"},o.a.createElement("label",{className:"container"},"Rss",o.a.createElement("input",{type:"checkbox",name:"Rss",checked:e.rss,onChange:e.eventi}),o.a.createElement("span",{className:"checkmark"})),o.a.createElement("label",{className:"container"},"Youtube",o.a.createElement("input",{type:"checkbox",name:"Youtube",checked:e.youtube,onChange:e.eventi}),o.a.createElement("span",{className:"checkmark"}))))))},I=n(20),R=function(e){Object(p.a)(n,e);var t=Object(u.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return console.log(this.props),!!this.props.isGeolocationAvailable&&(this.props.isGeolocationEnabled&&console.log(this.props),!1)}}]),n}(o.a.Component),x=Object(I.geolocated)({positionOptions:{enableHighAccuracy:!1},userDecisionTimeout:5e3})(R),S=function(e){Object(p.a)(n,e);var t=Object(u.a)(n);function n(){var e;return Object(c.a)(this,n),(e=t.call(this)).handleClick=function(t){console.log("premuto il ",t,e.state.punti),e.setState({premuto:!1}),e.setState({premuto:!0,id_premuto:t})},e.handleCheck=function(t){var n=t.target,a=n.value;("Youtube"===n.name||"Rss"===n.name)&&(a=n.checked);var o=n.name;e.setState(Object(s.a)({},o,a))},e.state={loading:!1,punti:[],premuto:!0,id_premuto:1,ip:[],Rss:!0,Youtube:!1},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.setState({loading:!0}),fetch("http://backend.ilbug.com/api/v1.0/giornali").then((function(e){return e.json()})).then((function(t){e.setState({punti:t.map((function(e){return{id:e.id,nome:e.nome,longitudine:e.longitudine,latitudine:e.latitudine,url:e.url}}))})})),fetch("http://ip-api.com/json/?fields=192").then((function(e){return e.json()})).then((function(t){e.setState({loading:!1,ip:t})})),!1===this.state.loading&&setTimeout((function(){var e=document.getElementById("ipl-progress-indicator");e.classList.add("available"),e&&(e.outerHTML="")}),4e3)}},{key:"render",value:function(){var e=this,t=null;t=!0===this.state.Rss?this.state.punti.map((function(t){return o.a.createElement(b,{click:e.handleClick,key:t.id,dati:t,idPrem:e.state.id_premuto})})):null,h.Ion.defaultAccessToken="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiI1M2JhZTk1OC03Y2I1LTQ5Y2MtOWM2NC03OTFiZDI5YzIxNjkiLCJpZCI6MjM5MzEsInNjb3BlcyI6WyJhc3IiLCJnYyJdLCJpYXQiOjE1ODQyNzgxNjR9.ADWepr084CVxw71tc8kJqRzHc68q-d8mH7AfMK3cqoU";var n=this.state.id_premuto;return n-=1,console.log("id chiamato",n),o.a.createElement("div",null,o.a.createElement(x,null),o.a.createElement(N,{eventi:this.handleCheck,rss:this.state.Rss,youtube:this.state.Youtube}),o.a.createElement("div",{className:"Rettcont"},this.state.premuto?o.a.createElement(j,{nome:this.state.punti[n]}):null),o.a.createElement(d.d,{style:{position:"absolute",top:"27px",left:"0px",right:"0px",bottom:"10px"},baseLayerPicker:!1,timeline:!1,geocoder:!1,homeButton:!1,selectionIndicator:!1,navigationHelpButton:!1,animation:!1,fullscreenButton:!1,sceneModePicker:!1},void 0===this.state.ip.lon?null:o.a.createElement(d.a,{duration:.1,destination:h.Cartesian3.fromDegrees(this.state.ip.lon,this.state.ip.lat,1e6),once:!0}),o.a.createElement(d.c,null,t)),o.a.createElement("ins",{className:"adsbygoogle",style:{display:"flex",bottom:"0px"},"data-ad-client":"ca-pub-2658199536475533","data-ad-slot":"7512404495","data-ad-format":"auto","data-full-width-responsive":"true"}),o.a.createElement("script",null,"(adsbygoogle = window.adsbygoogle || []).push(",");"))}}]),n}(o.a.Component);r.a.render(o.a.createElement(S,null),document.getElementById("root"))}},[[21,1,2]]]);
//# sourceMappingURL=main.846b84ee.chunk.js.map